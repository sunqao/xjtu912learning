# 第四章习题-总线与IO系统

## eg1 

![image-20240814192528098](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20240814192528098.png)

**（1）**

而带宽是总线理论数据传输的最大值，所以一秒的所有时钟周期中总线全部传送数据，**也就是一个总线周期中的所有时钟周期都传输数据，这就是带宽了**，也就是1s能够传输数据的最大值

总线的时钟频率就是一秒有多少个总线时钟周期

每个时钟周期都传输数据，于是总线就是时钟频率乘位数了

带宽：`F = f * D = 33 M * 32 = 132 `MB/s 注意这里的M表示10^6的意思

但是总线并不是1s的每个时钟周期中都传输数据的，总线的一次完整的操作有四个阶段：

（1）申请分配，（2）寻址，（3）数据传送，（4）结束

以同步通信为例，这四个阶段构成了一个总线周期，包含了四个总线时钟周期，也就是说四个时钟周期中总线才传送一次数据，**也就是一个总线周期传送一次数据**，所以我们得求1s中有多少个总线周期，然后1s中的总线的周期个数乘32bit得到数据传输率

总线时钟周期：`T = 1 / f = 1/33M `s 注意这里的M表示10^6的意思

总线周期：`T' = 4T = 4 / f = 4 / 33M `s

1s中总线周期的个数：`1s/T’ = f / 4 = 33M / 4`个

实际数据传输率：`P = D * f / 4 = 32bit * (33M / 4) = 33`MB/s  注意这里的M表示10^6的意思

其实就是带宽除以4

**（2）**

总线时钟频率和带宽增加一倍

那么带宽有：`F = f * D = 33M * 2 * 32 * 2 = 528` MB/s

总线时钟周期：`T = 1 / f = 1 / (33MHz * 2)`s

总线周期：`T' = 2 / f = 2 / (33MHz * 2) = 1 / 33M`s

1s中的总线周期个数：`f / 2 = 33M`个

数据传输率：`D * f / 2 = 64 * 33M = 264 `MB /s 这里的M都是10^6的意思

**总线带宽是1s中的所有时钟周期都传输数据，即一个总线周期中的所有时钟周期都传输数据，实际数据传输率是一个总线周期只传一次数据，假设一个总线周期有k个时钟周期，所以实际数据传输率，就用带宽除以k即可**
