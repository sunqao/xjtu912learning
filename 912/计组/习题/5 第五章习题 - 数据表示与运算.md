# 5 第五章习题 - 数据表示与运算

![image-20241018174338712](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241018174338712.png)

## 5.12 定点数的原码补码的范围

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241018174411082.png" alt="image-20241018174411082" style="zoom: 67%;" />

### **无符号整数**

无符号整数，就是16位二进制全是数的大小，没有符号位表示范围：
$$
0 \le a \le2^{16} -1
$$
只有说了无符号的时候第一位才不是符号位，其他的表示方法第一位统一就是符号位

### **原码定点小数**

**数的真值：**

就是一个正负号 + 数的书面书写方式，比如下图的实例第一行，就是二进制的真值

而机器数就是在计算机中的表示，用0，1表示符号位

**原码表示：**

原码表示的定点小数，原码其实就是比真值多了一个符号位

注意定点表示法只能表示纯小数或者纯整数，对于定点小数其默认小数点在符号位之后如下：

![image-20241018180309419](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241018180309419.png)

其范围：
$$
-(1 - 2^{-15})[1,111111111111111] \le a \le(1 - 2^{-15})[0,111111111111111]
$$
上面的符号位与数据位为了区分用逗号隔开，当然在计算机中显然没有逗号，只是约定小数点在符号位后面

### **补码定点小数**

定点小数的补码也还是负数除了符号位按位取反加一，正数不变，-0当作最小的数：
$$
-1[1,000000000000000] \le a \le (1 - 2^{-15})[0,111111111111111]
$$

### 原码定点整数

原码定点整数就是带符号的整数，其范围：
$$
-(2^{15} - 1) [1,111111111111111]\le a \le (2^{15} - 1) [0,111111111111111]
$$

### 补码定点整数

补码定点整数就是补码整数，其范围：
$$
-2^{15}[1,000000000000000] \le a \le (2^{15} - 1) [0,111111111111111]
$$

> 这种题目记住几个结论
>
> （1）一律用2的幂表示
>
> （2）原码对称，补码不对称，补码将原码中的-0当作了最小的一个数

## 5.17 补码加减法 + 溢出处理（直接用双符号位运算）

**（1）**

正常计算

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025183443145.png" alt="image-20241025183443145" style="zoom:67%;" />

**（2）**

这道题目是负溢出

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025183542809.png" alt="image-20241025183542809" style="zoom:50%;" />

当计算出溢出的时候，需要改成双符号位再计算一次，双符号位就是在原来的符号位多加一位即可：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025184232895.png" alt="image-20241025184232895" style="zoom: 50%;" />

 **（3）**

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025185247362.png" alt="image-20241025185247362" style="zoom:67%;" />

**（4）**

正常计算即可，这种肯定不会发生溢出

![image-20241025185316790](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025185316790.png)

> 这种计算难点是溢出后怎么得到真值，判断可能出现溢出的运算后（正数加正数，负数加负数），直接用双符号位运算，然后根据双符号位运算的结果来判断溢出，以及得到真值
>
> 另外，最后的结果必须是真值

## 5.18 原码一位乘 + 补码一位乘 + 补码两位乘 

![image-20241025190455257](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241025190455257.png)

就只写第一问，第二问跟第一问一样

**（1）**

**原码一位乘：**

![image-20241028213737028](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241028213737028.png)

**补码一位乘：**

![img](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/eff826d814e3aa6eefa13f5fd6bd7140.jpg)

**补码两位乘：**

![image-20241029212716683](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241029212716683.png)

## 5.19 原码加减交替除（原码恢复除）

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241104182354466.png" alt="image-20241104182354466" style="zoom:50%;" />

这里只做第一问，剩下的都是一样的

**（1）**

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/ca77366bcadc233e96d5bca85f425913.jpg" alt="img" style="zoom:67%;" />

## 5.29 浮点数的规格化表示及其范围

![image-20241106172921778](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241106172921778.png)

**（1）**

这个浮点数的格式如下所示：

![image-20241106173146004](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241106173146004.png)

这里阶码是原码，并且尾数也是原码

**对于正数来讲：**

最大情况时阶码最大，并且尾数也是最大，此时浮点数乘起来才是最大，因此最大为：
$$
2^{2^5 - 1} * (1 - 2^{-9})
$$
最小情况时阶码应该最小，并且尾数也是最小，由于阶码不改变正负情况，因此阶码最小应该是负数：
$$
2^{1 - 2^5} * 2^{-9}
$$
**对于负数来讲：**

最大情况，由于阶码充当的是一个比例因子，不改变正负，所以阶码应该最小，让负数的比例因子最小，这样才能保证负数最大：
$$
2^{1 - 2^5} * (-2^{-9})
$$
最小情况，由于是负数，因此要求阶码所决定的比例因子和尾数的绝对值都应该最大才行：
$$
2^{2^5 - 1}*(-(1 - 2^{-9}))
$$
**（2）**

规格化要求尾数的原码的第一位必须是有效位1，因此对补码的表示就会产生影响

先看阶码部分，阶码用移码表示，**移码表示就是和补码一一对应的**，真值对应的补码的每一个表示与真值的移码表示来说就是符号位相反，数值位相同

**所以阶码来说：**

负数最小：-32，对应补码：$100000$，对应移码：$000000$

负数最大：-1，对应补码：$111111$，对应移码：$011111$

正数最小：1，对应补码：$000001$，对应移码：$100001$

正数最大：31，对应补码：$011111$，对应移码：$111111$

**再看尾数部分：**

尾数要求规格化补码，因此补码必须是1.0XXXXXX以及0.1XXXXXX这种形式，因此对于尾数有：

负数最小：对应补码：$1.000000000$，满足补码规格化定义

> 这里根据真值反推，先看最小的负数补码形式满足规格化不，发现满足，因此就是这个了

负数最大：对应原码：$1.100000001$，对应补码：$1.011111111$，满足规格化定义

>这里的负数要求补码必须是1.0XXXXXXX这样的形式，这种形式下1.000000000确实是最小的负数，在这个基础上增加就是了，因此$1.011111111$就是最大的补码负数，因为再加就不满足了补码的规格化定义
>
>注意直接在补码的基础上加1其实就等价于在原来真值上加1，比如-3的补码是1, 101，那么-2的补码就是1，110，可以直接在补码表示的基础上加一

正数最小：对应补码：$0.100000000$

正数最大：对应补码：$0.111111111$

**所以合起来：**

最小负数：
$$
2^{31} * (-\frac{1}{2})
$$
最大负数：
$$
2^{-32} *(-(2^{-1} + 2^{-9}))
$$
最小正数：
$$
2^{-32} * \frac{1}{2}
$$
最大正数：
$$
2^{31} * (1 - 2^{-9})
$$


**（3）**

-27/1024和7.375的二进制真值表示分别是：
$$
-0.0000011011；+111.011
$$
这里直接先将尾数规格化得到：
$$
-0.11011*2^{-5}；0.111011*2^{3}
$$
阶码部分用移码表示（先将真值转化成补码，然后再写移码）：
$$
-0.110110000*2^{011011}；0.111011000*2^{100011}
$$
尾数部分变成补码规格化形式：
$$
1.001010000*2^{011011}；0.111011000*2^{100011}
$$
所以最后结果是：
$$
0,11011;1.001010000
$$

$$
1,00011;0.111011000
$$



## 5.33 浮点数的加减运算

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173011093.png" alt="image-20241107173011093" style="zoom:50%;" />

**（1）**

（1）首先，将两个数的阶码和尾数都写成双符号位的补码形式：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173102870.png" alt="image-20241107173102870" style="zoom:50%;" />

（2）然后进行对阶，始终是小阶向大阶看齐，即小阶加数到大阶，阶码变大，尾数右移变小：

![image-20241107173208690](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173208690.png)

（3）尾数计算，后面的位保留：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173240718.png" alt="image-20241107173240718" style="zoom:50%;" />

（4）对尾数进行规格化处理以及处理溢出：

![image-20241107173304935](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173304935.png)

（5）舍入，并且写出最后的原码结果

![image-20241107173957555](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107173957555.png)

**（2）**

（1）写成两个数的阶码，尾数的双符号位补码：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107174454386.png" alt="image-20241107174454386" style="zoom:50%;" />

（2）对阶，小阶向大阶看齐

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107174706474.png" alt="image-20241107174706474" style="zoom:50%;" />

（3）尾数相加减：

![image-20241107175118267](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107175118267.png)

（4）规格化以及溢出的处理：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107175320289.png" alt="image-20241107175320289" style="zoom:50%;" />

（5）舍入，写出结果

这里的X + Y最后的1，采用0舍1入，最后舍去的时候进一

![image-20241107175552793](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107175552793.png)

不过也可以直接舍，直接舍得化结果如下：

<img src="https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241107175810163.png" alt="image-20241107175810163" style="zoom:50%;" />
