# 7 控制器

## 7.1 指令周期，机器周期（主存周期），时钟周期，机器主频

![image-20241113095950144](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241113095950144.png)

指令周期是CPU取出一条指令并执行完毕的时间

机器周期是指令执行中，某个完整阶段的时间，比如指令执行中的取指阶段，一般安排机器周期 = 主存周期

时钟周期是计算机主时钟的周期时间，是计算机运行的最基本时间单位，对应一个微操作的时间，时钟周期是计算机主频的倒数，一个机器周期可以包含多个时钟周期

显然不能说机器的主频越快，机器的速度就越快，因为机器的主频越快说明时钟周期越小，但是一条指令的执行速度，或者说机器的速度，取决于指令周期含有的时钟周期的数量和时钟周期的大小，虽然主频高的计算机的时钟周期时间小，但是指令含有的时钟周期个数取决于数据通路等结构，可能一个计算机的主频高但是指令含有的时钟周期很多，那这样机器的速度还是很慢；要看综合效果

## 7.2 硬布线和门阵列的特点

![image-20241113100448275](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241113100448275.png)

硬布线和门阵列都是采用组合逻辑电路实现的控制器，两者的区别在于两种不同的控制器实现的组合电路所采用的器件是不一样的

硬布线采用的是传统的门电路来构建逻辑控制单元，一旦构建完成就不能更改，如果想要增加功能只能从头开始构建

门阵列采用的是通过可编程的门阵列器件来构建逻辑控制单元，集成度更高，性能更好，并且采用硬件编程语言来进行逻辑设计，通过烧制实现芯片内部电路制作；显然在进行逻辑设计的时候如果有错误或者想要更改功能就方便很多，不用重头再来

## 7.10 主频，机器周期，时钟周期，MIPS，计算机速度

![image-20241114152307185](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241114152307185.png)

（1）

一个指令平均有5个时钟周期

根据机器的主频是8MHz，时钟周期是$\frac{1}{8M}s$

因此MIPS为：
$$
\frac{1}{5*\frac{1}{8M}} = \frac{8M}{5} = 1.6MIPS
$$
（2）

每条指令这时有20个时钟周期

因此MIPS为：
$$
\frac{8}{20} = 0.4MIPS
$$
（3）

由此可以得出计算机的执行速度不单单和主频有关，还与指令含有的时钟周期的个数有关，这两个计算机的主频一样，但是执行速度就不一样

## 7.11 主频，机器周期，时钟周期，MIPS，计算机速度

![image-20241114153624131](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20241114153624131.png)

（1）

一条指令含有的时钟周期个数是x，1s有8M个时钟周期，可以执行0.8M个指令，因此一个指令对应的时钟周期个数就是：
$$
8/0.8 = 10
$$
因此一个指令含有的机器周期的个数就是：
$$
\frac{10}{4} = 2.5
$$
（2）

时钟周期是0.4us，那计算机的主频就是：
$$
\frac{1}{0.4\mu s} = 2.5 MHZ
$$
单个指令含有的时钟周期不变，因此是：
$$
\frac{2.5}{10} = 0.25MIPS
$$
（3）

一个指令是10个时钟周期，那么40万条指令1s就是1s400万个时钟周期

即主频是4MHz

> 关于主频这个东西，其公式是$\frac{1}{T}$这里的T是时钟周期的长度，所以其意义也可以是1s中时钟周期的个数